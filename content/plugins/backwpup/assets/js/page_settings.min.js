jQuery(document).ready(function(a){var b=a('input[name="anchor"]'),c=a(".nav-tab-wrapper>a"),d=window.location.hash;""!==d&&(d="#"+d.replace("#","")),""!==d&&b.val(d),a(".table").addClass("ui-tabs-hide"),a(b.val()).removeClass("ui-tabs-hide"),"#backwpup-tab-information"===b.val()&&(a("#submit").hide(),a("#default_settings").hide()),c.removeClass("nav-tab-active"),c.each(function(){a(this).attr("href")===b.val()&&a(this).addClass("nav-tab-active")}),c.on("click",function(){var d=a(this).attr("href");return c.removeClass("nav-tab-active"),a(this).addClass("nav-tab-active"),a(".table").addClass("ui-tabs-hide"),a(d).removeClass("ui-tabs-hide"),a("#message").hide(),b.val(d),"#backwpup-tab-information"===d?(a("#submit").hide(),a("#default_settings").hide()):(a("#submit").show(),a("#default_settings").show()),window.location.hash=d,window.scrollTo(0,0),!1}),a("#authentication_method").change(function(){var b=a("#authentication_method").val();""===b?(a(".authentication_basic").hide(),a(".authentication_query_arg").hide(),a(".authentication_user").hide()):"basic"===b?(a(".authentication_basic").show(),a(".authentication_query_arg").hide(),a(".authentication_user").hide()):"query_arg"===b?(a(".authentication_basic").hide(),a(".authentication_query_arg").show(),a(".authentication_user").hide()):"user"===b&&(a(".authentication_basic").hide(),a(".authentication_query_arg").hide(),a(".authentication_user").show())}),a("#encryption-symmetric").is(":checked")?(a("#encryption-key-row").show(),a("#public-key-row").hide()):a("#encryption-asymmetric").is(":checked")&&(a("#encryption-key-row").hide(),a("#public-key-row").show()),a('input:radio[name="encryption"]').change(function(){"symmetric"===a(this).val()?(a("#encryption-key-row").show(),a("#public-key-row").hide()):"asymmetric"===a(this).val()&&(a("#encryption-key-row").hide(),a("#public-key-row").show())}),a("#generate-key-button").click(function(b){if(b.preventDefault(),b.stopPropagation(),""===a("#encryptionkey").val()){a("#generate-key-button").attr("disabled","disabled");var c={action:"generate_key",_ajax_nonce:a("#backwpupajaxnonce").val()};a.post(ajaxurl,c,function(b){a("#encryptionkey").val(b),a("#encryptionkey").focus(),a("#key-generation").hide()})}}),a("#validate-key-button").click(function(b){return""===a("#publickey").val()?(b.preventDefault(),alert(backwpup_vars.no_public_key),a("#publickey").focus(),!1):void setTimeout(function(){a("#privatekey").focus()},100)}),a("#do-validate").click(function(){if(""===a("#privatekey").val())return alert(backwpup_vars.no_private_key),a("#privatekey").focus(),!1;var b={action:"validate_key",publickey:a("#publickey").val(),privatekey:a("#privatekey").val(),_ajax_nonce:a("#backwpupajaxnonce").val()};a.post(ajaxurl,b,function(b){"valid"===b?(alert(backwpup_vars.public_key_valid),tb_remove(),a("#publickey").focus()):alert(backwpup_vars.public_key_invalid),a("#privatekey").val("")}).fail(function(a,b,c){alert(c)})}),a("#generate-key-pair-button").click(function(){a("#key-pair-generating-progress").show(),a("#key-pair-generating-done").hide();var b={action:"generate_key_pair",_ajax_nonce:a("#backwpupajaxnonce").val()};a.post(ajaxurl,b,function(b){a("#generated-public-key").val(b.public_key),a("#generated-public-key-link").attr("href","data:text/plain;base64,"+btoa(b.public_key)),a("#generated-private-key").val(b.private_key),a("#generated-private-key-link").attr("href","data:text/plain;base64,"+btoa(b.private_key)),a("#key-pair-generating-progress").hide(),a("#key-pair-generating-done").show(),a("#generated-public-key").focus()})});var e=!1;a("#generated-private-key-link").click(function(){e=!0}),a("#use-key-pair-button").click(function(){return e===!1?(alert(backwpup_vars.must_download_private_key),!1):(a("#publickey").val(a("#generated-public-key").val()),tb_remove(),void a("#publickey").focus())}),setTimeout(function(){window.scrollTo(0,0)},1)});