;jQuery(document).ready(function(e){var a=e('input[name="anchor"]'),t=e('.nav-tab-wrapper>a'),i=window.location.hash;if(i!==''){i='#'+i.replace('#','')};if(i!==''){a.val(i)};e('.table').addClass('ui-tabs-hide');e(a.val()).removeClass('ui-tabs-hide');if(a.val()==='#backwpup-tab-information'){e('#submit').hide();e('#default_settings').hide()};t.removeClass('nav-tab-active');t.each(function(){if(e(this).attr('href')===a.val()){e(this).addClass('nav-tab-active')}});t.on('click',function(){var i=e(this).attr('href');t.removeClass('nav-tab-active');e(this).addClass('nav-tab-active');e('.table').addClass('ui-tabs-hide');e(i).removeClass('ui-tabs-hide');e('#message').hide();a.val(i);if(i==='#backwpup-tab-information'){e('#submit').hide();e('#default_settings').hide()}
else{e('#submit').show();e('#default_settings').show()};window.location.hash=i;window.scrollTo(0,0);return!1});e('#authentication_method').change(function(){var a=e('#authentication_method').val();if(''===a){e('.authentication_basic').hide();e('.authentication_query_arg').hide();e('.authentication_user').hide()}
else if('basic'===a){e('.authentication_basic').show();e('.authentication_query_arg').hide();e('.authentication_user').hide()}
else if('query_arg'===a){e('.authentication_basic').hide();e('.authentication_query_arg').show();e('.authentication_user').hide()}
else if('user'===a){e('.authentication_basic').hide();e('.authentication_query_arg').hide();e('.authentication_user').show()}});if(e('#encryption-symmetric').is(':checked')){e('#encryption-key-row').show();e('#public-key-row').hide()}
else if(e('#encryption-asymmetric').is(':checked')){e('#encryption-key-row').hide();e('#public-key-row').show()};e('input:radio[name="encryption"]').change(function(){if(e(this).val()==='symmetric'){e('#encryption-key-row').show();e('#public-key-row').hide()}
else if(e(this).val()==='asymmetric'){e('#encryption-key-row').hide();e('#public-key-row').show()}});e('#generate-key-button').click(function(a){a.preventDefault();a.stopPropagation();if(e('#encryptionkey').val()!==''){return};e('#generate-key-button').attr('disabled','disabled');var i={action:'generate_key',_ajax_nonce:e('#backwpupajaxnonce').val(),};e.post(ajaxurl,i,function(a){e('#encryptionkey').val(a);e('#encryptionkey').focus();e('#key-generation').hide()})});e('#validate-key-button').click(function(a){if(e('#publickey').val()===''){a.preventDefault();alert(backwpup_vars.no_public_key);e('#publickey').focus();return!1};setTimeout(function(){e('#privatekey').focus()},100)});e('#do-validate').click(function(){if(e('#privatekey').val()===''){alert(backwpup_vars.no_private_key);e('#privatekey').focus();return!1};var a={action:'validate_key',publickey:e('#publickey').val(),privatekey:e('#privatekey').val(),_ajax_nonce:e('#backwpupajaxnonce').val(),};e.post(ajaxurl,a,function(a){if(a==='valid'){alert(backwpup_vars.public_key_valid);tb_remove();e('#publickey').focus()}
else{alert(backwpup_vars.public_key_invalid)};e('#privatekey').val('')}).fail(function(e,i,a){alert(a)})});e('#generate-key-pair-button').click(function(){e('#key-pair-generating-progress').show();e('#key-pair-generating-done').hide();var a={action:'generate_key_pair',_ajax_nonce:e('#backwpupajaxnonce').val()};e.post(ajaxurl,a,function(a){e('#generated-public-key').val(a.public_key);e('#generated-public-key-link').attr('href','data:text/plain;base64,'+btoa(a.public_key));e('#generated-private-key').val(a.private_key);e('#generated-private-key-link').attr('href','data:text/plain;base64,'+btoa(a.private_key));e('#key-pair-generating-progress').hide();e('#key-pair-generating-done').show();e('#generated-public-key').focus()})});var n=!1;e('#generated-private-key-link').click(function(){n=!0});e('#use-key-pair-button').click(function(){if(n===!1){alert(backwpup_vars.must_download_private_key);return!1};e('#publickey').val(e('#generated-public-key').val());tb_remove();e('#publickey').focus()});setTimeout(function(){window.scrollTo(0,0)},1)});